(self["webpackChunkbotfree"]=self["webpackChunkbotfree"]||[]).push([[111],{7315:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Z});var n=a(9835);const i={class:"column flex-center"},s=(0,n._)("div",{class:""},"Пожалуйста, подождите...",-1),o={class:"q-pa-md"},r=(0,n._)("div",{class:"text-h4 text-center"},"Авторизация",-1),c=(0,n._)("div",{class:"q-pb-sm"},"Ваш код",-1);function l(e,t,a,l,d,u){const h=(0,n.up)("q-spinner"),p=(0,n.up)("q-card"),m=(0,n.up)("q-dialog"),w=(0,n.up)("q-input"),g=(0,n.up)("q-card-section"),f=(0,n.up)("q-btn"),v=(0,n.up)("q-card-actions"),I=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(I,{class:"flex justify-center items-start bg-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(m,{"no-route-dismiss":"",modelValue:e.viewInitLoading,"onUpdate:modelValue":t[0]||(t[0]=t=>e.viewInitLoading=t),persistent:"",maximized:"","transition-show":"none","transition-hide":"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(p,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n._)("div",i,[(0,n.Wm)(h,{color:"primary",size:"3em",thickness:10}),s])])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",o,[r,(0,n.Wm)(p,{class:"q-ma-md q-pa-sm card-auth"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,null,{default:(0,n.w5)((()=>[c,(0,n.Wm)(w,{style:{width:"300px"},modelValue:e.code,"onUpdate:modelValue":t[1]||(t[1]=t=>e.code=t),color:"teal",type:"text",outlined:"",dense:"",hint:"Для авторизации введите код полученный в телеграмме",rules:[e=>e.length<=3||"Можно ввести не более 3 символов",e=>e.length>=1||"Можно ввести не менее 1 символа"]},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(v,{align:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(f,{class:"full-width",color:"teal",padding:"8px 0px",label:"Войти",to:"/auth"})])),_:1})])),_:1})])])),_:1})}a(702),a(3269);var d=a(499),u=a(3100),h=a(425),p=a.n(h),m=a(7779);function w(e,t){if(0==e||0==t.secretKey)return!1;{let a=e,n=a.hash;const i=Object.keys(a).filter((e=>"hash"!==e)).map((e=>`${e}=${a[e]}`)).sort().join("\n");m.log();const s=p().HmacSHA256(i,p().enc.Hex.parse(t.secretKey)).toString(p().enc.Hex);return s==n}}a(1902);const g=(0,n.aZ)({name:"IndexPage",setup(){return{dialCode:(0,d.iH)(!1),code:(0,d.iH)("")}},computed:{...(0,u.Se)(["viewUserValid","viewInitData","viewInitLoading"])},methods:{...(0,u.nv)(["getUserData"]),...(0,u.OI)(["changeValidator","changeInitData","changeInitLoading"]),convertURL(e){if(""==e)return!1;{let t={};for(const[a,n]of new URLSearchParams(e))t[a]=n;return t}}},mounted(){this.changeValidator(w(this.convertURL(window.Telegram.WebApp.initData),this.convertURL(window.location.search))),this.changeInitData({data:this.convertURL(window.Telegram.WebApp.initData),search:this.convertURL(window.location.search)})},watch:{viewInitData(){this.viewUserValid&&""!=this.viewInitData.data&&""!=this.viewInitData.search?(this.$router.push("/auth"),this.changeInitLoading(!1)):setTimeout((()=>this.changeInitLoading(!1)),2e3)}}});var f=a(1639),v=a(9885),I=a(7743),x=a(4458),q=a(3940),L=a(3190),b=a(8942),U=a(1821),_=a(963),D=a(9984),V=a.n(D);const W=(0,f.Z)(g,[["render",l]]),Z=W;V()(g,"components",{QPage:v.Z,QDialog:I.Z,QCard:x.Z,QSpinner:q.Z,QCardSection:L.Z,QInput:b.Z,QCardActions:U.Z,QBtn:_.Z})},2480:()=>{}}]);