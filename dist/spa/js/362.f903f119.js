(self["webpackChunkbotfree"]=self["webpackChunkbotfree"]||[]).push([[362],{5097:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>y});var n=a(9835),i=a(6970);const s={class:"column flex-center"},o=(0,n._)("div",{class:""},"Пожалуйста, подождите...",-1),c={class:"q-pa-md"},l=(0,n._)("div",{class:"text-h4 text-center"},"Авторизация",-1),r=(0,n._)("div",{class:"q-pb-sm"},"Ваш код",-1),d={class:""};function u(e,t,a,u,h,p){const m=(0,n.up)("q-spinner"),g=(0,n.up)("q-card"),w=(0,n.up)("q-dialog"),f=(0,n.up)("q-input"),v=(0,n.up)("q-card-section"),x=(0,n.up)("q-btn"),I=(0,n.up)("q-card-actions"),q=(0,n.up)("q-page");return(0,n.wg)(),(0,n.j4)(q,{class:"flex justify-center items-start bg-white"},{default:(0,n.w5)((()=>[(0,n.Wm)(w,{modelValue:e.viewInitLoading,"onUpdate:modelValue":t[0]||(t[0]=t=>e.viewInitLoading=t),persistent:"",maximized:"","transition-show":"none","transition-hide":"none"},{default:(0,n.w5)((()=>[(0,n.Wm)(g,{class:"flex flex-center"},{default:(0,n.w5)((()=>[(0,n._)("div",s,[(0,n.Wm)(m,{color:"primary",size:"3em",thickness:10}),o])])),_:1})])),_:1},8,["modelValue"]),(0,n._)("div",c,[l,(0,n.Wm)(g,{class:"q-ma-md q-pa-sm card-auth"},{default:(0,n.w5)((()=>[(0,n.Wm)(v,null,{default:(0,n.w5)((()=>[r,(0,n.Wm)(f,{style:{width:"300px"},modelValue:e.code,"onUpdate:modelValue":t[1]||(t[1]=t=>e.code=t),color:"teal",type:"text",outlined:"",dense:"",hint:"Для авторизации введите код полученный в телеграмме",rules:[e=>e.length<=3||"Можно ввести не более 3 символов",e=>e.length>=1||"Можно ввести не менее 1 символа"]},null,8,["modelValue","rules"])])),_:1}),(0,n.Wm)(I,{align:"center"},{default:(0,n.w5)((()=>[(0,n.Wm)(x,{class:"full-width",color:"teal",padding:"8px 0px",label:"Войти",to:"/auth"})])),_:1})])),_:1}),(0,n._)("div",d,(0,i.zw)(e.getInitData),1)])])),_:1})}a(702),a(3269);var h=a(499),p=a(3100),m=a(425),g=a.n(m),w=a(7779);function f(e,t){if(0==e||0==t.secretKey)return!1;{let a=e,n=a.hash;const i=Object.keys(a).filter((e=>"hash"!==e)).map((e=>`${e}=${a[e]}`)).sort().join("\n");w.log();const s=g().HmacSHA256(i,g().enc.Hex.parse(t.secretKey)).toString(g().enc.Hex);return s==n}}a(1902);const v=(0,n.aZ)({name:"IndexPage",setup(){return{dialCode:(0,h.iH)(!1),code:(0,h.iH)("")}},computed:{...(0,p.Se)(["userValid","getInitData","viewInitLoading"])},methods:{...(0,p.nv)(["getUserData"]),...(0,p.OI)(["changeValidator","changeInitData","changeInitLoading"]),convertURL(e){if(""==e)return!1;{let t={};for(const[a,n]of new URLSearchParams(e))t[a]=n;return t}}},mounted(){this.changeValidator(f(this.convertURL(window.Telegram.WebApp.initData),this.convertURL(window.location.search))),this.changeInitData({data:this.convertURL(window.Telegram.WebApp.initData),search:this.convertURL(window.location.search)})},watch:{getInitData(){this.userValid&&""!=this.initData.data&&""!=this.initData.search?this.changeInitLoading(!1):setTimeout((()=>this.changeInitLoading(!1)),500)}}});var x=a(1639),I=a(9885),q=a(2074),L=a(4458),_=a(3940),b=a(3190),D=a(3494),V=a(1821),W=a(4455),Z=a(9984),U=a.n(Z);const Q=(0,x.Z)(v,[["render",u]]),y=Q;U()(v,"components",{QPage:I.Z,QDialog:q.Z,QCard:L.Z,QSpinner:_.Z,QCardSection:b.Z,QInput:D.Z,QCardActions:V.Z,QBtn:W.Z})},2480:()=>{}}]);