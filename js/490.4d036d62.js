"use strict";(self["webpackChunkbotfree"]=self["webpackChunkbotfree"]||[]).push([[490],{7490:(e,t,l)=>{l.r(t),l.d(t,{default:()=>De});var o=l(9835),s=l(1957);const a=e=>((0,o.dD)("data-v-5f66ebc9"),e=e(),(0,o.Cn)(),e),n=a((()=>(0,o._)("div",{class:"q-pa-lg flex center max-xxl text-h4"},"Каталог товаров бота",-1))),r={class:"flex center max-xxl q-gutter-md"},c={class:"flex center max-xxl"},i={class:"center max-xxl min-size-xl"},d={class:"flex wrap"},u={key:0,class:"full-width text-h4 rounded-borders text-grey flex flex-center column"},p=(0,o.Uk)(" Товаров нет "),w={key:1,class:"text-h4 rounded-borders text-grey flex flex-center full-width column"},m=(0,o.Uk)(" Категорий нет "),g={class:"flex no-wrap justify-between"},x={class:"q-ma-xs q-gutter-md"},h={class:"footer q-pa-lg row justify-between items-center"},f={class:"social q-gutter-md"};function k(e,t,l,a,k,y){const v=(0,o.up)("q-btn"),b=(0,o.up)("q-input"),q=(0,o.up)("product-item"),_=(0,o.up)("q-skeleton"),B=(0,o.up)("q-card-actions"),C=(0,o.up)("q-card"),W=(0,o.up)("q-separator"),Z=(0,o.up)("q-avatar"),j=(0,o.up)("productBasket"),I=(0,o.up)("q-page");return(0,o.wg)(),(0,o.j4)(I,{class:""},{default:(0,o.w5)((()=>[n,(0,o._)("div",r,[(0,o.Wm)(v,{rounded:"",outline:"",color:"teal",icon:"chevron_left",title:"Обратно",onClick:t[0]||(t[0]=t=>e.viewAllProducts())}),(0,o.Wm)(v,{rounded:"",outline:7==e.selectView,color:"teal",label:"категории",onClick:t[1]||(t[1]=t=>e.selectView=0)},null,8,["outline"]),(0,o.Wm)(v,{rounded:"",outline:0==e.selectView,color:"teal",label:"товары",onClick:t[2]||(t[2]=t=>e.selectView=7)},null,8,["outline"])]),(0,o._)("div",c,[(0,o.Wm)(b,{class:"q-ma-lg max-lg",style:{width:"100%"},rounded:"",outlined:"",dense:"",label:e.changeLabel(),color:"teal",modelValue:e.search,"onUpdate:modelValue":t[3]||(t[3]=t=>e.search=t),type:"text"},null,8,["label","modelValue"])]),(0,o._)("div",i,[(0,o._)("div",d,[0==e.viewItems().length&&7==e.selectView&&0!=e.allProducts.length?((0,o.wg)(),(0,o.iD)("div",u,[p,(0,o.Wm)(v,{class:"q-ma-md",padding:"4px 16px",rounded:"",dense:"",outline:"",color:"teal",label:"Посмотреть Категории",onClick:t[4]||(t[4]=t=>e.selectView=0)})])):(0,o.kq)("",!0),0==e.viewItems().length&&0==e.selectView&&0!=e.allProducts.length?((0,o.wg)(),(0,o.iD)("div",w,[m,(0,o.Wm)(v,{class:"q-ma-md",padding:"4px 16px",rounded:"",dense:"",outline:"",color:"teal",label:"Посмотреть товары",onClick:t[5]||(t[5]=t=>e.selectView=7)})])):(0,o.kq)("",!0),((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.viewItems(),((e,t)=>((0,o.wg)(),(0,o.j4)(q,{class:"",key:t,product:e},null,8,["product"])))),128)),((0,o.wg)(),(0,o.iD)(o.HY,null,(0,o.Ko)(6,((t,l)=>(0,o.wy)((0,o.Wm)(C,{class:"col my-card q-ma-sm",key:l},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{height:"200px",square:""}),(0,o._)("div",g,[(0,o._)("div",x,[(0,o.Wm)(_,{width:"200px",height:"16px",square:""}),(0,o.Wm)(_,{width:"200px",height:"16px",square:""})]),(0,o.Wm)(B,{vertical:"",align:"right",class:"q-gutter-md"},{default:(0,o.w5)((()=>[(0,o.Wm)(_,{size:"32px",type:"QBtn"}),(0,o.Wm)(_,{size:"32px",type:"QBtn"})])),_:1})])])),_:2},1024),[[s.F8,0==e.allProducts.length]]))),64))])]),(0,o.Wm)(W),(0,o._)("div",h,[(0,o.Wm)(v,{flat:"",dense:"",color:"teal",padding:"4px 8px",label:"Другая информация"}),(0,o._)("div",f,[(0,o.Wm)(Z,{size:"30px",color:"teal","text-color":"white"}),(0,o.Wm)(Z,{size:"30px",color:"blue-4","text-color":"white"}),(0,o.Wm)(Z,{size:"30px",color:"purple-4","text-color":"white"})])]),(0,o.Wm)(j)])),_:1})}l(6727);var y=l(499),v=(l(9981),l(3100)),b=(l(702),l(6970));const q=e=>((0,o.dD)("data-v-5a4abfcf"),e=e(),(0,o.Cn)(),e),_=["title"],B={key:1,class:"column flex-center"},C=q((()=>(0,o._)("div",{class:"text-caption"},"Категория",-1))),W={class:"text-h6 end-dots"},Z={key:0,class:"flex no-wrap justify-between"},j={class:"my-card-info"},I={class:"end-dots"},D={class:"q-ma-xs q-gutter-sm"};function Q(e,t,l,s,a,n){const r=(0,o.up)("q-avatar"),c=(0,o.up)("BlockCategoryItems"),i=(0,o.up)("q-btn"),d=(0,o.up)("q-card-section"),u=(0,o.up)("block-category-button"),p=(0,o.up)("q-card-actions"),w=(0,o.up)("block-product-button"),m=(0,o.up)("q-card");return(0,o.wg)(),(0,o.j4)(m,{class:"my-card no-wrap q-ma-sm justify-between",style:(0,b.j5)({minHeight:0!=l.product.type?"335px":"160px",maxHeight:0!=l.product.type?"335px":"160px"})},{default:(0,o.w5)((()=>[(0,o._)("div",{title:0==l.product.type?"Смотреть категорию":"",style:(0,b.j5)({height:0!=l.product.type?"160px":"",transition:0==l.product.type?"0.2s":""}),class:(0,b.C_)(["bg-teal rounded-borders flex flex-center text-white",{fit:0==l.product.type,"cursor-pointer":0==l.product.type,category:0==l.product.type}]),onClick:t[0]||(t[0]=(...e)=>n.openCategory&&n.openCategory(...e))},[0!=l.product.type?((0,o.wg)(),(0,o.j4)(r,{key:0,size:"100px","font-size":"52px",color:"transparent","text-color":"white",icon:"image_not_supported"})):(0,o.kq)("",!0),0==l.product.type?((0,o.wg)(),(0,o.iD)("div",B,[(0,o.Wm)(r,{size:"70px","font-size":"52px",color:"transparent","text-color":"white",icon:"image"}),C,(0,o._)("div",W,(0,b.zw)(l.product.design.title),1)])):(0,o.kq)("",!0)],14,_),0!=l.product.type?((0,o.wg)(),(0,o.iD)("div",Z,[(0,o._)("div",j,[(0,o.Wm)(d,null,{default:(0,o.w5)((()=>[(0,o._)("div",I,(0,b.zw)(l.product.design.title),1),(0,o._)("div",D,[0==l.product.type?((0,o.wg)(),(0,o.j4)(c,{key:0,items:l.product.items},null,8,["items"])):(0,o.kq)("",!0)]),7==l.product.type?((0,o.wg)(),(0,o.j4)(i,{key:0,color:"teal-9",dense:"",flat:"",class:"text-h6 text-weight-bold",padding:"0px 4px",label:l.product.price.amount+" "+n.convertСurrency},null,8,["label"])):(0,o.kq)("",!0)])),_:1})]),(0,o.Wm)(p,{align:"right",vertical:""},{default:(0,o.w5)((()=>[0==l.product.type?((0,o.wg)(),(0,o.j4)(u,{key:0,prod:l.product},null,8,["prod"])):(0,o.kq)("",!0)])),_:1})])):(0,o.kq)("",!0),7==l.product.type?((0,o.wg)(),(0,o.j4)(p,{key:1,align:"center",class:"flex absolute-bottom"},{default:(0,o.w5)((()=>[(0,o.Wm)(w,{prod:l.product},null,8,["prod"])])),_:1})):(0,o.kq)("",!0)])),_:1},8,["style"])}function P(e,t,l,a,n,r){const c=(0,o.up)("q-badge");return(0,o.wg)(),(0,o.iD)(o.HY,null,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(l.items,((e,t)=>(0,o.wy)(((0,o.wg)(),(0,o.j4)(c,{class:"end-dots bg-teal-3",key:t,label:e.design.title},null,8,["label"])),[[s.F8,t<2]]))),128)),l.items.length>2?((0,o.wg)(),(0,o.j4)(c,{key:0,class:"end-dots bg-teal-3",label:"..."})):(0,o.kq)("",!0),0==l.items.length?((0,o.wg)(),(0,o.j4)(c,{key:1,class:"end-dots",color:"orange",label:"В категории нет товаров"})):(0,o.kq)("",!0)],64)}const U={props:{items:{type:Object}},setup(){}};var V=l(1639),z=l(990),H=l(9984),A=l.n(H);const S=(0,V.Z)(U,[["render",P]]),K=S;A()(U,"components",{QBadge:z.Z});const Y=(0,o.Uk)("Посмотреть категорию");function E(e,t,l,s,a,n){const r=(0,o.up)("q-tooltip"),c=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.j4)(c,{flat:"",icon:"visibility",color:"grey-8",onClick:t[0]||(t[0]=t=>e.viewChosenCategory(l.prod))},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{anchor:"bottom middle",self:"center middle",class:"bg-teal"},{default:(0,o.w5)((()=>[Y])),_:1})])),_:1})}const O={props:["prod"],setup(){},methods:{...(0,v.nv)(["viewChosenCategory"])}};var L=l(963),R=l(7048);const T=(0,V.Z)(O,[["render",E]]),F=T;A()(O,"components",{QBtn:L.Z,QTooltip:R.Z});const $={class:"button-add fit"},G={key:1,class:"flex no-wrap flex-center rounded-borders justify-between count text-h6 fit"},J={class:"q-px-xs absolute-center"};function M(e,t,l,a,n,r){const c=(0,o.up)("q-btn");return(0,o.wg)(),(0,o.iD)("div",$,[r.hasBasketItem()?(0,o.kq)("",!0):((0,o.wg)(),(0,o.j4)(c,{key:0,label:"В корзину",color:"teal",class:"fit",padding:"5px 32px",onClick:t[0]||(t[0]=t=>e.addInBasket(l.prod))})),r.hasBasketItem()?((0,o.wg)(),(0,o.iD)("div",G,[(0,o.Wm)(c,{padding:"4px",flat:"",color:"grey-9",icon:"remove",onClick:t[1]||(t[1]=t=>e.decreaseCountInBasket(l.prod))}),(0,o._)("div",J,(0,b.zw)(r.countInBasket()),1),(0,o.wy)((0,o.Wm)(c,{padding:"4px",flat:"",color:"grey-9",icon:"add",onClick:t[2]||(t[2]=t=>e.increaseCountInBasket(l.prod))},null,512),[[s.F8,r.countInBasket()<l.prod.setting.max_count]])])):(0,o.kq)("",!0)])}const N={props:["prod"],setup(){},methods:{...(0,v.OI)(["addInBasket","increaseCountInBasket","decreaseCountInBasket"]),...(0,v.Se)(["viewBasket"]),hasBasketItem(){return!!this.viewBasket().find((e=>e.data==this.prod))},countInBasket(){if(this.viewBasket().find((e=>e.data==this.prod)))return this.viewBasket().find((e=>e.data==this.prod)).count}}},X=(0,V.Z)(N,[["render",M],["__scopeId","data-v-43e78b9a"]]),ee=X;A()(N,"components",{QBtn:L.Z,QTooltip:R.Z});const te={components:{BlockCategoryItems:K,BlockCategoryButton:F,BlockProductButton:ee},props:{product:{type:Object,required:!1},basket:{type:Boolean,required:!1}},computed:{convertСurrency(){switch(this.product.price.currency){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return this.product.price.currency}}},methods:{...(0,v.nv)(["viewChosenCategory"]),openCategory(){0==this.product.type&&this.viewChosenCategory(this.product)}},setup(){}};var le=l(4458),oe=l(1357),se=l(3190),ae=l(1821);const ne=(0,V.Z)(te,[["render",Q],["__scopeId","data-v-5a4abfcf"]]),re=ne;A()(te,"components",{QCard:le.Z,QAvatar:oe.Z,QCardSection:se.Z,QBtn:L.Z,QCardActions:ae.Z});const ce={class:"q-pa-md text-h4 text-white max-xl center flex justify-between"},ie=(0,o.Uk)(" Корзина "),de={class:"flex"},ue=(0,o._)("div",{class:"q-mr-md"},"Товары",-1),pe={class:""},we=(0,o._)("div",{class:""},null,-1),me=(0,o._)("div",{class:""},"Итого",-1),ge={class:""},xe={key:0,class:"flex flex-center"},he={class:"flex-grow q-ma-sm"},fe={key:1,class:"text-h5 column"},ke=(0,o.Uk)(" В корзине пока пусто ");function ye(e,t,l,s,a,n){const r=(0,o.up)("q-card-actions"),c=(0,o.up)("q-btn"),i=(0,o.up)("product-item"),d=(0,o.up)("q-card-section"),u=(0,o.up)("q-card"),p=(0,o.up)("q-dialog");return(0,o.wg)(),(0,o.j4)(p,{modelValue:e.open,"onUpdate:modelValue":t[0]||(t[0]=t=>e.open=t),persistent:"",maximized:"","transition-show":"jump-up","transition-hide":"jump-down"},{default:(0,o.w5)((()=>[(0,o.Wm)(u,{class:"bg-layout text-grey-9 relative-position"},{default:(0,o.w5)((()=>[(0,o.Wm)(r,{vertical:"",align:"right",class:""}),(0,o._)("div",ce,[ie,(0,o.Wm)(c,{dense:"",flat:"",color:"white",icon:"close",onClick:e.openBasket},null,8,["onClick"])]),(0,o.Wm)(d,{class:"max-xl center flex"},{default:(0,o.w5)((()=>[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.viewBasket,((e,t)=>((0,o.wg)(),(0,o.j4)(i,{basket:"",class:"",key:t,product:e.data},null,8,["product"])))),128))])),_:1}),(0,o.Wm)(d,{class:"max-xl center flex flex-center"},{default:(0,o.w5)((()=>[0!=e.viewBasket.length?((0,o.wg)(),(0,o.j4)(u,{key:0,class:"full-width"},{default:(0,o.w5)((()=>[(0,o.Wm)(d,{class:"flex flex-grow justify-between"},{default:(0,o.w5)((()=>[(0,o._)("div",de,[ue,(0,o._)("div",pe,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.viewBasket,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"",key:t},(0,b.zw)(e.count)+" * "+(0,b.zw)(e.data.price.amount)+" "+(0,b.zw)(n.convertСurrency(e.data.price.currency)),1)))),128))])]),we])),_:1}),(0,o.Wm)(d,{class:"flex flex-grow justify-between text-h5 text-weight-bold"},{default:(0,o.w5)((()=>[me,(0,o._)("div",ge,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(n.totalPrice,((e,t)=>((0,o.wg)(),(0,o.iD)("div",{class:"flex flex-center column",key:t},[(0,o.Uk)((0,b.zw)(e)+" ",1),n.totalPrice.length>1&&t!=n.totalPrice.length-1?((0,o.wg)(),(0,o.iD)("div",xe," + ")):(0,o.kq)("",!0)])))),128))])])),_:1}),(0,o._)("div",he,[(0,o.Wm)(c,{class:"fit",color:"teal",label:"Перейти к оформлению"})])])),_:1})):(0,o.kq)("",!0),0==e.viewBasket.length?((0,o.wg)(),(0,o.iD)("div",fe,[ke,(0,o.Wm)(c,{class:"text-white q-ma-md",rounded:"",outline:"",label:"К товарам",onClick:e.openBasket},null,8,["onClick"])])):(0,o.kq)("",!0)])),_:1})])),_:1})])),_:1},8,["modelValue"])}const ve={props:{},components:{productItem:re},computed:{...(0,v.Se)(["open","allProducts","viewBasket"]),totalPrice(){let e=[],t=[],l="",o=[];return this.viewBasket.forEach((t=>{e.push(t.data.price.currency)})),e=new Set(e),e.forEach((e=>{t.push(this.viewBasket.filter((t=>t.data.price.currency==e)))})),t.forEach((e=>{l=0,e.forEach((e=>{l+=+e.count*+e.data.price.amount})),l+=" "+this.convertСurrency(e[0].data.price.currency),o.push(l)})),o}},methods:{...(0,v.OI)(["openBasket"]),...(0,v.nv)(["getUserData","viewAllProducts"]),convertСurrency(e){switch(e){case"RUB":return"₽";case"USD":return"$";case"EUR":return"€";case"UAH":return"₴";case"KZT":return"₸";default:return e}}},setup(){return{}},watch:{},mounted(){}};var be=l(7831);const qe=(0,V.Z)(ve,[["render",ye]]),_e=qe;A()(ve,"components",{QDialog:be.Z,QCard:le.Z,QCardActions:ae.Z,QBtn:L.Z,QCardSection:se.Z});const Be=(0,o.aZ)({name:"IndexPage",components:{productItem:re,productBasket:_e},setup(){return{dialog:(0,y.iH)(!1),search:(0,y.iH)(""),selectView:(0,y.iH)(0)}},computed:{...(0,v.Se)(["open","allProducts","viewBasket"])},methods:{...(0,v.OI)(["openBasket"]),...(0,v.nv)(["getUserData","viewAllProducts"]),changeLabel(){return 0==this.selectView?"Поиск по категории":7==this.selectView?"Поиск товаров":void 0},viewItems(){return 0==this.selectView?this.allProducts.filter((e=>e.design.title.toLowerCase().includes(this.search)&&0==e.type)):7==this.selectView?this.allProducts.filter((e=>e.design.title.toLowerCase().includes(this.search)&&7==e.type)):void 0}},mounted(){this.viewAllProducts(),this.getUserData()}});var Ce=l(9885),We=l(9828),Ze=l(7133),je=l(926);const Ie=(0,V.Z)(Be,[["render",k],["__scopeId","data-v-5f66ebc9"]]),De=Ie;A()(Be,"components",{QPage:Ce.Z,QBtn:L.Z,QInput:We.Z,QCard:le.Z,QSkeleton:Ze.ZP,QCardActions:ae.Z,QSeparator:je.Z,QAvatar:oe.Z})}}]);